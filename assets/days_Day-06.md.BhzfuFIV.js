import{_ as i,c as s,o as a,ah as t}from"./chunks/framework.CQPaoDZe.js";const k=JSON.parse('{"title":"Day 06","description":"","frontmatter":{},"headers":[],"relativePath":"days/Day-06.md","filePath":"days/Day-06.md","lastUpdated":1755921294000}'),d={name:"days/Day-06.md"};function l(o,e,r,n,h,c){return a(),s("div",null,[...e[0]||(e[0]=[t(`<h1 id="day-06" tabindex="-1">Day 06 <a class="header-anchor" href="#day-06" aria-label="Permalink to “Day 06”">​</a></h1><h1 id="实现一个名为-myfrom-的函数" tabindex="-1">实现一个名为 <code>myFrom</code> 的函数 <a class="header-anchor" href="#实现一个名为-myfrom-的函数" aria-label="Permalink to “实现一个名为 myFrom 的函数”">​</a></h1><p>请你实现一个名为 <code>myFrom</code> 的函数，该函数模仿原生 ES6 中 <code>Array.from</code> 的行为。<code>myFrom</code> 接收三个参数：</p><ul><li><strong>arrayLike</strong>：一个类似数组的对象或可迭代对象（例如：具有 <code>length</code> 属性的对象、字符串等）。</li><li><strong>mapFn</strong> <em>(可选)</em>：若提供，则应为一个函数，用于对每个元素进行映射，如果存在则对每个元素执行 <code>mapFn(element, index)</code>，并将返回结果插入新数组。</li><li><strong>thisArg</strong> <em>(可选)</em>：若 <code>mapFn</code> 存在且 <code>thisArg</code> 被提供，则调用映射函数时用 <code>thisArg</code> 作为 <code>this</code> 的值。</li></ul><p>此外，你需要实现两个辅助函数：</p><ol><li><strong>toInteger(value)</strong>：转换 <code>value</code> 为数值类型，如果不能转换则返回 <code>0</code>；对正负数取绝对值并向下取整，再根据原始符号返回结果。</li><li><strong>toLength(value)</strong>：保证 <code>value</code> 转换成整数后位于合法范围 [0, Number.MAX_SAFE_INTEGER] 内（<code>Number.MAX_SAFE_INTEGER</code> 等于 2^53 - 1）。</li></ol><h2 id="题目要求" tabindex="-1">题目要求 <a class="header-anchor" href="#题目要求" aria-label="Permalink to “题目要求”">​</a></h2><ol><li><p><strong>输入验证</strong></p><ul><li>当 <code>arrayLike</code> 为 <code>null</code> 或 <code>undefined</code> 时，抛出 <code>TypeError</code> 异常，提示 <code>&quot;Array.from requires an array-like object - not null or undefined&quot;</code>。</li><li>当提供了 <code>mapFn</code> 参数，但其类型不是函数时，抛出 <code>TypeError</code> 异常，提示 <code>&quot;Array.from when provided mapFn must be a function&quot;</code>。</li></ul></li><li><p><strong>辅助函数</strong></p><ul><li>实现 <code>toInteger(value)</code>，将传入值转换为数值，并按照要求返回整数。要求对 <code>NaN</code> 返回 <code>0</code>，对无穷大或 0 直接返回其值，否则返回带符号的向下取整结果。</li><li>实现 <code>toLength(value)</code>，利用 <code>toInteger</code> 保证返回值在 <code>[0, Number.MAX_SAFE_INTEGER]</code> 之间。</li></ul></li><li><p><strong>数组转换</strong></p><ul><li>使用 <code>Object(arrayLike)</code> 获取输入的对象副本，并通过 <code>toLength</code> 得到合法的长度，创建一个新的数组（或数组状对象）。</li><li>遍历 <code>arrayLike</code> 每个索引的位置，对于每个元素： <ul><li>如果存在 <code>mapFn</code>，则： <ul><li>当 <code>thisArg</code> 被提供，以 <code>thisArg</code> 作为 <code>this</code> 调用 <code>mapFn(iValue, i)</code>；</li><li>否则直接调用 <code>mapFn(iValue, i)</code>。</li></ul></li><li>如果不传入 <code>mapFn</code>，则直接将原始元素复制到新数组中。</li></ul></li><li>最终返回新生成的数组。</li></ul></li><li><p><strong>示例和测试要求</strong></p><ul><li>输入：<code>myFrom({0: &#39;a&#39;, 1: &#39;b&#39;, length: 2})</code> 应返回 <code>[&#39;a&#39;, &#39;b&#39;]</code>。</li><li>输入：<code>myFrom(&#39;hello&#39;)</code> 应返回 <code>[&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;]</code>。</li><li>输入：<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> addIndex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> el </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">myFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, length: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, addIndex);</span></span></code></pre></div>应返回 <code>[&#39;a0&#39;, &#39;b1&#39;]</code>。</li><li>输入：若 <code>mapFn</code> 存在但其类型不是函数，则抛出相应错误。</li></ul></li></ol><h2 id="代码" tabindex="-1">代码 <a class="header-anchor" href="#代码" aria-label="Permalink to “代码”">​</a></h2><table tabindex="0"><thead><tr><th>类型</th><th>路径</th></tr></thead><tbody><tr><td>JS 答案</td><td>problems/days/Day 06/answer.js</td></tr><tr><td>TS 答案</td><td>problems/days/Day 06/ts/answer.ts</td></tr><tr><td>模板</td><td>problems/days/Day 06/ts/myFrom.ts</td></tr><tr><td>测试</td><td>problems/days/Day 06/ts/myFrom.spec.ts</td></tr></tbody></table>`,10)])])}const y=i(d,[["render",l]]);export{k as __pageData,y as default};
