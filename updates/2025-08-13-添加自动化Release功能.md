# 更新说明 - 2025-08-13 (Release 功能)

## 概述

为项目添加完整的自动化 Release 功能，支持版本自动管理和发布流程。

## 新增功能

- 🤖 **自动化 Release 工作流** - GitHub Actions 自动检测变更并发布版本
- 🛠️ **手动发布脚本** - 支持交互式版本发布流程
- 📋 **Release 配置文件** - 统一的版本管理配置
- 📝 **CHANGELOG 生成** - 自动维护项目更新日志
- 🎯 **智能版本递增** - 根据变更内容自动确定版本类型

## 修改内容

- 📦 更新 `package.json` 添加 release 相关脚本
- 📚 更新 README.md 添加 Release 使用说明
- 🔧 创建 `.releaserc.json` 版本管理配置文件
- 📖 添加 `docs/RELEASE.md` 详细文档

## 技术细节

### 自动化触发条件

```yaml
# 文件路径变更 → 版本类型
package.json → minor
updates/** → minor
problems/days/** (≥5 new) → minor
problems/days/** (1-4 new) → patch
```

### 手动发布选项

```bash
pnpm release         # 交互式选择
pnpm release:patch   # 补丁版本 (v1.0.0 → v1.0.1)
pnpm release:minor   # 次要版本 (v1.0.0 → v1.1.0)
pnpm release:major   # 主要版本 (v1.0.0 → v2.0.0)
pnpm release:custom  # 自定义版本号
```

### Release Notes 内容

- 📝 自动包含最新的更新文档内容
- 📊 项目统计信息（题目数量、贡献者等）
- 🛠️ 技术栈信息
- 🚀 快速开始指南
- 🤝 贡献指南链接

## 注意事项

1. **版本号同步**: Git tag 和 package.json 版本号会自动保持一致
2. **测试要求**: 发布前会自动运行测试，失败则终止发布
3. **分支保护**: 建议为 main 分支设置保护规则
4. **更新文档**: 重要更新应在 `updates/` 文件夹中添加说明文档

## 相关文件

- `.github/workflows/auto-release.yaml` - 自动化 Release 工作流
- `scripts/release.sh` - 手动发布脚本
- `.releaserc.json` - Release 配置文件
- `docs/RELEASE.md` - Release 详细文档
- `CHANGELOG.md` - 项目更新日志

## 使用示例

### 创建新的题目后发布

```bash
# 1. 添加新题目到 problems/days/Day 19/
# 2. 提交代码
git add problems/days/Day\ 19/
git commit -m "feat: 添加 Day 19 题目 - 二叉树遍历"
git push origin main

# 3. 自动触发 Release (patch 版本)
# 或手动发布
pnpm release:patch
```

### 添加新功能后发布

```bash
# 1. 开发新功能
# 2. 在 updates/ 中添加更新说明
# 3. 提交代码
git add .
git commit -m "feat: 添加新的开发工具"
git push origin main

# 4. 自动触发 Release (minor 版本)
```

## 效益评估

- ⏱️ **效率提升**: 自动化减少手动发布工作量
- 📈 **版本规范**: 统一的版本管理流程
- 📝 **文档完善**: 自动生成详细的 Release Notes
- 🎯 **质量保证**: 发布前自动运行测试和检查
- 👥 **团队协作**: 清晰的版本历史便于团队跟踪进展
