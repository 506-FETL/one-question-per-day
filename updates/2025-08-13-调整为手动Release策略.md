# 更新说明 - 2025-08-13 (手动 Release 策略)

## 概述

基于多人协作需求，将自动 Release 策略调整为手动 Release 策略，避免频繁的自动发布。

## 修改内容

- 🚫 **禁用自动触发**: 移除推送到 main 分支时的自动 Release 触发
- 🎯 **优化手动触发**: 改进 GitHub Actions 手动发布工作流
- 📝 **更新文档**: 修改 README.md 和 docs/RELEASE.md 说明新策略
- 🔧 **简化工作流**: 移除复杂的变更检测逻辑，专注手动发布

## 新增功能

- ✅ **跳过测试选项**: 手动发布时可选择跳过测试检查（紧急发布）
- 🎛️ **灵活版本选择**: 支持 patch/minor/major 和自定义版本号
- 📊 **实时统计**: 发布时显示当前题目数量和贡献者统计

## 解决的问题

- 🐛 **避免意外发布**: 团队成员提交代码不再触发自动发布
- 🤝 **协作冲突**: 解决多人同时工作时的版本冲突问题
- ⚡ **发布控制**: 提供更精确的发布时机控制

## 使用方式

### GitHub Actions 手动发布

1. 访问项目 Actions 页面
2. 选择 "手动 Release" 工作流
3. 点击 "Run workflow"
4. 配置发布参数并确认

### 本地脚本发布

```bash
# 交互式发布
pnpm release

# 指定版本类型
pnpm release:patch   # 补丁版本
pnpm release:minor   # 次要版本
pnpm release:major   # 主要版本
pnpm release:custom  # 自定义版本号
```

## 协作建议

1. **版本发布权限**: 建议指定1-2人负责版本发布
2. **发布时机**:
   - 完成重要功能开发
   - 积累一定数量的题目
   - 修复重要问题
3. **团队协调**: 发布前确认团队成员当前工作状态

## 技术细节

- **工作流文件**: `.github/workflows/manual-release.yaml`
- **自动更新**: 仍保留 CHANGELOG.md 自动更新功能
- **测试集成**: 发布前仍会运行完整的质量检查
- **版本同步**: package.json 和 Git tag 自动同步

## 相关文件

- `.github/workflows/manual-release.yaml` - 新的手动发布工作流
- `docs/RELEASE.md` - 更新的发布文档
- `README.md` - 更新的项目说明
- `scripts/verify-release.sh` - 更新的验证脚本

删除的文件：

- `.github/workflows/auto-release.yaml` - 旧的自动发布工作流
